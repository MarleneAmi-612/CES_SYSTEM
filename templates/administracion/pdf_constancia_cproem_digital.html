{% load static %}
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>Certificado CPROEM (WEB)</title>
    <style>
      @page {
        size: A4 landscape;
        margin: 0;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
      }

      body {
        margin: 0;
        background: url("{% static 'img/diplomas/Constancia_CPROEM_WEB.png' %}")
          center center no-repeat;
        background-size: contain;
        background-color: #fff;
        font-family: "DejaVu Sans", Arial, sans-serif;
        color: #000;
      }

      .page {
        position: relative;
        width: 297mm;
        height: 210mm;
      }

      /* NOMBRE */
      .nombre {
        position: absolute;
        top: 84mm;
        left: 80mm;
        right: 20mm;
        text-align: center;
        font-size: 20pt;
        font-weight: 700;
        color: #000;
      }

      .curp {
        position: absolute;
        top: 97.5mm;
        left: 213mm;
        right: 20mm;
        text-align: left;
        font-size: 10pt;
        font-style: italic;
        font-weight: 600;
        letter-spacing: 0.6pt;
        color: #b00000;
        white-space: nowrap;
      }

      /* PROGRAMA */
      .programa {
        position: absolute;
        top: 116mm;
        left: 70mm;
        right: 20mm;
        text-align: center;
        font-size: 18pt;
        font-weight: 800;
        color: #000;
      }

      /* FECHAS: inicio y fin por separado (el fondo ya trae el texto) */
      .periodo-inicio {
        position: absolute;
        top: 128mm;
        left: 150mm;
        text-align: left;
        font-size: 11pt;
        color: #000;
        white-space: nowrap;
      }

      .periodo-fin {
        position: absolute;
        top: 128mm;
        left: 183mm;
        text-align: left;
        font-size: 11pt;
        color: #000;
        white-space: nowrap;
      }

      /* QR */
      .qr {
        position: absolute;
        right: 43mm;
        bottom: 20mm;
        width: 32mm;
        height: 32mm;
      }

      .qr img {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div class="page">
      <!-- NOMBRE -->
      <div class="nombre">{{ nombre }}</div>

      <!-- CURP -->
      {% if curp %}
      <div class="curp">{{ curp|upper }}</div>
      {% endif %}

      <!-- PROGRAMA -->
      <div class="programa">{{ programa }}</div>

      <!-- FECHA DE INICIO (en letra) -->
      <div class="periodo-inicio">
        {% if vigencia_inicio %}
          {{ vigencia_inicio|date:"j" }} de {{ vigencia_inicio|date:"F" }} de {{ vigencia_inicio|date:"Y" }}
        {% endif %}
      </div>

      <!-- FECHA DE TÉRMINO (en letra) -->
      <div class="periodo-fin">
        {% if vigencia_termino %}
          {{ vigencia_termino|date:"j" }} de {{ vigencia_termino|date:"F" }} de {{ vigencia_termino|date:"Y" }}
        {% endif %}
      </div>

      <!-- QR -->
      <div class="qr">
        <img src="{{ qr_url }}" alt="QR de verificación" />
      </div>
    </div>
  </body>
</html>
