{% load static %}
<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <title>Certificado CPROEM (WEB)</title>
    <style>
      @page {
        size: A4 landscape;
        margin: 0;
      }

      html,
      body {
        margin: 0;
        padding: 0;
        height: 100%;
      }

      body {
        margin: 0;
        background: url("{% static 'img/diplomas/Constancia_CPROEM_WEB.png' %}")
          center center no-repeat;
        background-size: contain;
        background-color: #fff;
        font-family: "DejaVu Sans", Arial, sans-serif;
        color: #000;
      }

      .page {
        position: relative;
        width: 297mm;
        height: 210mm;
      }

      /* NOMBRE */
      .nombre {
        position: absolute;
        top: 84mm;
        left: 80mm;
        right: 20mm;
        text-align: center;
        font-size: 20pt;
        font-weight: 700;
        color: #000;
      }

.curp {
  position: absolute;
  top: 97.5mm;
  left: 213mm;  /* antes 70mm → más a la derecha */
  right: 20mm;
  text-align: left;
  font-size: 10pt;
  font-style: italic;
  font-weight: 600;
  letter-spacing: 0.6pt;
  color: #b00000;
  white-space: nowrap;
}


      /* PROGRAMA */
      .programa {
        position: absolute;
        top: 116mm;
        left: 70mm;
        right: 20mm;
        text-align: center;
        font-size: 18pt;
        font-weight: 800;
        color: #000;
      }

      /* FECHAS: inicio y fin por separado (el fondo ya trae "EN EL PERÍODO DEL    AL") */
      .periodo-inicio {
        position: absolute;
        top: 128mm; /* ↓ bajamos 1mm */
        left: 150mm; /* inicio sigue a la derecha */
        text-align: left;
        font-size: 11pt;
        color: #000;
        white-space: nowrap;
      }

      .periodo-fin {
        position: absolute;
        top: 128mm; /* ↓ bajamos 1mm */
        left: 183mm; /* término sigue a la izquierda */
        text-align: left;
        font-size: 11pt;
        color: #000;
        white-space: nowrap;
      }

      /* QR */
      .qr {
        position: absolute;
        right: 43mm;
        bottom: 20mm;
        width: 32mm;
        height: 32mm;
      }

      .qr img {
        width: 100%;
        height: 100%;
      }
    </style>
  </head>
  <body>
    <div class="page">
      <!-- NOMBRE -->
      <div class="nombre">{{ nombre }}</div>

      <!-- CURP -->
      {% if curp %}
      <div class="curp">{{ curp|upper }}</div>
      {% endif %}

      <!-- PROGRAMA -->
      <div class="programa">{{ programa }}</div>

      <!-- FECHA DE INICIO (solo la fecha, sin texto) -->
      {% if vigencia_inicio %}
      <div class="periodo-inicio">{{ vigencia_inicio|date:"d/m/Y" }}</div>
      {% endif %}

      <!-- FECHA DE TÉRMINO (solo la fecha, sin texto) -->
      {% if vigencia_termino %}
      <div class="periodo-fin">{{ vigencia_termino|date:"d/m/Y" }}</div>
      {% endif %}

      <!-- QR -->
      <div class="qr">
        <img src="{{ qr_url }}" alt="QR de verificación" />
      </div>
    </div>
  </body>
</html>
